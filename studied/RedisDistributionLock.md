## 레디스 활용하여 동시성 문제 해결하기

**Lettuce**
- `setnx` 명령어를 활용하여 분산락 구현
  - setnx (set if not exist)
  - key와 value가 set할때 기존에 값이 없을때만 set한다.
- spin lock 방식이다.
  - 스레드가 락을 획득할 수 있는지 반복적으로 확인하면서 락을 획득하는 방식.
  - 재시도 로직을 개발자가 작성해줘야 한다.

**Redisson**
- pub-sub 기반으로 락 구현 제공
  - 채널을 사용.
  - 락을 점유중인 스레드가 채널을 통해서 대기중인 스레드에게 해제를 알려주면 안내를 받은 스레드가 락을 획득하는 방식.

## Lettuce 방식
**장점**
- 구현이 간단하다.
**단점**
- 스핀락 방식이기 때문에 레디스에 부하를 줄 수 있다.
